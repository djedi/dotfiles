#!/usr/bin/env bash

# Install homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

brew tap teamookla/speedtest

# CLI packages
for pkg in "" \
	ack \
	bitwarden-cli \
	curl \
	ffmpeg \
	git \
	gnu-sed \
	grep \
	imagemagick \
	lame \
	m4b-tool \
	mp4v2 \
	node \
	poetry \
	process \
	pyenv \
	python \
	python3 \
	rename \
	ripgrep \
	rsync \
	speedtest \
	sqlite \
	ssh-copy-id \
	terminal-notifier \
	tmux \
	trash \
	tree \
	wget \
	yarn \
	youtube-dl \
	; do
	brew install ${pkg}
done

brew install youtube-dl

# Brew Cask Apps
for app in "" \
	adobe-creative-cloud \
	alfred \
	amazon-music \
	amazon-photos \
	appzapper \
	atext \
	audiobook-builder \
	avibrazil-rdm \
	bartender \
	base \
	# bettertouchtool \
	beyond-compare \
	bitwarden \
	brave-browser \
	burp-suite \
	calibre \
	camtasia \
	cleanmymac \
	coda \
	dash \
	discord \
	# divvy \
	docker \
	dropbox \
	evernote \
	fantastical \
	fastscripts \
	firefox \
	fluid \
	# flycut \
	google-chrome \
	grammarly \
	# handbrake \
	hyper \
	kindle \
	launchcontrol \
	# makemkv \
	# minecraft \
	ngrok \
	obs \
	# openemu \
	# openra \
	pgadmin4 \
	plex \
	plexamp \
	postman \
	qlcolorcode \
	qlmarkdown \
	qlstephen \
	qlvideo \
	quicklook-json \
	recordit \
	skitch \
	skype \
	slack \
	spectacle \
	sublime-text \
	suspicious-package \
	teamviewer \
	telegram \
	the-unarchiver \
	tower \
	tweetbot \
	visual-studio-code \
	vlc \
	webpquicklook \
	# workflowy \
	zoom \
	; do
	brew install --cask ${app}
done

# Install browser-sync globally for `serve` alias
npm install --global browser-sync

# Copy Launch Agents
cp ~/init/*.plist ~/Library/LaunchAgents
sed -i '' "s/IFTTT_PLACEHOLDER/$IFTTT_MAKER_KEY/" ~/Library/LaunchAgents/local.on-air.plist
